:root{
  --bg1:#ffb3c7; --bg2:#ffd6a5; --bg3:#c8b6ff;
  --ink:#2b1e24;
  --stroke:#111;
  --paper:#fff;

  --pink:#ffb3c8;
  --inner:#ffd0de;

  --yes:#20a85a;
  --no:#ff4d6d;
}

*{box-sizing:border-box}

body{
  margin:0;
  min-height:100vh;
  display:grid;
  place-items:center;
  font-family:system-ui, Arial, sans-serif;
  color:var(--ink);
  background: linear-gradient(135deg,var(--bg1),var(--bg2),var(--bg3));
}

/* escenario */
.stage{
  width:min(560px, 92vw);
  display:grid;
  justify-items:center;
  gap:16px;
  padding: 18px;
}

/* --- sobre + carta --- */
.mail{
  width:min(520px, 92vw);
  display:grid;
  justify-items:center;
  gap:10px;
}

.open-btn{
  width:100%;
  border:0;
  background:transparent;
  cursor:pointer;
  padding:0;
}

.mail-inner{
  width:100%;
  display:grid;
  justify-items:center;
  gap:14px; /* separaciÃ³n real */
}

/* SOBRE */
.envelope{
  width:min(520px, 92vw);
  background: transparent;
}

.env-svg{
  width:100%;
  height:auto;
  filter: drop-shadow(0 18px 30px rgba(0,0,0,.18));
}

.env-stroke{
  stroke: var(--stroke);
  stroke-width: 10;
}
.env-line{
  stroke: var(--stroke);
  stroke-width: 10;
  stroke-linecap: round;
}

/* CARTA */
.paper{
  width: min(520px, 92vw);
  background: rgba(255,255,255,.85);
  border: 2px solid rgba(0,0,0,.08);
  border-radius: 18px;
  box-shadow: 0 18px 40px rgba(0,0,0,.18);
  overflow:hidden;

  transform: translateY(0);
  transition: transform .7s cubic-bezier(.2,.9,.2,1),
              opacity .35s ease;
}

.paper-head{
  padding: 12px 14px;
  background: linear-gradient(180deg, rgba(255,230,240,.9), rgba(255,255,255,0));
}
.paper-badge{
  display:inline-block;
  padding: 8px 12px;
  border-radius: 999px;
  font-weight: 900;
  background: rgba(255,180,205,.55);
  border: 1px solid rgba(0,0,0,.08);
}
.paper-body{
  padding: 14px 16px 18px;
  display:grid;
  justify-items:center;
  gap:10px;
}
.tap{
  margin:0;
  font-weight:900;
  opacity:.75;
}

/* ðŸ‘‡ AL INICIO SOLO SOBRE */
.hidden-paper{ display:none; }

/* ðŸ‘‡ AL ABRIR: aparece carta y sube */
.open .hidden-paper{ display:block; }
.open .paper{ transform: translateY(-34px); }

.small{
  margin:0;
  font-weight:900;
  opacity:.75;
}

/* --- tarjeta final --- */
.card{
  width:min(520px, 92vw);
  background: rgba(255,255,255,.60);
  backdrop-filter: blur(12px);
  border-radius: 26px;
  padding: 22px 18px 18px;
  box-shadow: 0 25px 60px rgba(0,0,0,.22);
  text-align:center;
  border: 2px solid rgba(255,255,255,.65);
}

.hidden{ display:none; }

.title{
  margin: 10px 0 6px;
  font-size: clamp(22px, 3.4vw, 30px);
}
.subtitle{
  margin:0 0 14px;
  font-weight:700;
  opacity:.9;
}

/* botones */
.buttons{
  position:relative;
  height: 70px;
  margin-top: 6px;
}

.btn{
  border:0;
  border-radius: 14px;
  padding: 14px 24px;
  font-size:18px;
  font-weight:900;
  cursor:pointer;
  box-shadow: 0 14px 28px rgba(0,0,0,.12);
}
.btn:active{ transform: scale(.97); }

.yes{ background: var(--yes); color:#fff; }
.no{
  background: var(--no);
  color:#fff;
  position:absolute;
  right:0;
}

/* texto */
.msg{
  margin: 14px 0 0;
  font-weight: 900;
  min-height: 24px;
}
.hint{
  margin: 8px 0 0;
  font-size: 13px;
  opacity:.75;
  font-weight: 800;
}

/* conejitos */
.bunnies{
  display:flex;
  align-items:center;
  justify-content:center;
  gap: 14px;
}
.bunnies.top{ margin-bottom: 8px; }

.bunny{
  width: 92px;
  animation: bounce 1.25s ease-in-out infinite;
}
.bunny:nth-child(3){ animation-delay: .16s; }

.bunny-face{ width:100%; height:auto; }
.flip{ transform: scaleX(-1); }

.fur{ fill: var(--paper); }
.stroke{
  stroke: var(--stroke);
  stroke-width: 6;
  stroke-linecap: round;
  stroke-linejoin: round;
}
.inner{ fill: var(--inner); }
.cheek{ fill: var(--pink); }
.eye{ fill:#121212; }
.shine{ fill:#fff; opacity:.95; }
.nose{ fill:#ff7aa6; }
.smile{
  fill:none;
  stroke: var(--stroke);
  stroke-width: 6;
  stroke-linecap: round;
}

.mid-heart{
  font-size: 26px;
  animation: pulse 1s ease-in-out infinite;
  user-select:none;
}

@keyframes bounce{
  0%,100%{ transform: translateY(0); }
  50%{ transform: translateY(-8px); }
}
@keyframes pulse{
  0%,100%{ transform: scale(1); }
  50%{ transform: scale(1.18); }
}
